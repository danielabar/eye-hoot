{"version":3,"sources":["webpack:///bundle-4c171a6ee25ff64db202.js","webpack:///webpack/bootstrap 4c171a6ee25ff64db202","webpack:///./images/owl.png","webpack:///./js/app.js","webpack:///./js/clock-container.js","webpack:///./js/controller.js","webpack:///./js/animation-control.js","webpack:///./js/conversion.js","webpack:///./js/index.js","webpack:///./js/modal.js","webpack:///./js/persistence.js","webpack:///./js/settings.js","webpack:///./js/validation.js","webpack:///./sounds/ding.mp3","webpack:///./sounds/tweet.mp3"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","app","undefined","_tweet","_tweet2","_ding","_ding2","_owl","_owl2","_settings","_animationControl","_clockContainer","_modal","DIM_CSS_CLASS","settings","Settings","clockContainer","updateOpacity","clockOpacity","messageElement","audioBreakStartEl","audioBreakOverEl","owlSvg","clock","timeElapsed","WORK_MESSAGE","start","modal","open","startContinue","findElements","requestPermission","handleNotificationDenied","dim","innerHTML","window","Notification","permission","status","startWork","document","querySelector","src","updateMessage","message","forEach","el","classList","add","brighten","contains","remove","startAnimation","animationControl","playAnimation","getAnimationMessage","stopAnimation","startLongBreakAnimation","startStopLongBreakAnimation","longBreakAnimationMessage","stopBreakAnimation","notify","n","body","icon","requireInteraction","playSound","onclick","notificationClickedHandler","bind","focus","this","close","longBreakInterval","startAnimationClock","eyeExerciseDuration","longBreakDuration","element","soundEnabled","play","interval","$","FlipClock","clockFace","countdown","callbacks","stop","stopClockHandler","eyeExerciseInterval","console","debug","startWorkClock","reset","clockContainerEl","opacity","style","controller","_app","update","key","val","windowSvg","owlGraphic","eyes","leftEyeShine","rightEyeShine","leftWing","rightWing","leftFoot","rightFoot","animationIndex","sideToSide","toggle","upDown","aroundRight","aroundLeft","blinkEyes","farFocus","longBreak","EYE_ANIMATIONS","EYE_ANIMATIONS_MESSAGES","length","SECONDS_IN_MINUTE","secondsToMinutes","minutesToSeconds","stringToBoolean","stringToInt","result","parseInt","isNaN","Error","stringToFloat","parseFloat","conversion","addEventListener","_controller","modalEl","modalOverlayEl","modalCloseEl","modalStartEl","modalLogoEl","APP_KEY","storageAvailable","type","storage","x","setItem","removeItem","e","localStorageAvailable","saveItem","localStorage","save","retrieveItem","getItem","retrieve","defaultVal","removeAll","clear","persistence","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","protoProps","staticProps","prototype","_persistence","_conversion","_validation","DEFAULT_SOUND_ENABLED","DEFAULT_CLOCK_OPACITY","SETTINGS_HIDDEN_CLASS","containerEl","eyeExerciseIntervalEl","getElementsByName","longBreakIntervalEl","longBreakDurationEl","soundEnabledEl","getElementById","clockOpacityEl","closeSettingsEl","openSettingsEl","restoreSettingsEl","_init","_registerEvents","_populateFields","_eyeExerciseDuration","_eyeExerciseInterval","_longBreakInterval","_longBreakDuration","_soundEnabled","_clockOpacity","_this","_numericChangeHandler","evt","_keyPressHandler","_booleanChangeHandler","_rangeChangeHandler","_open","_restore","checked","property","isValid","newVal","currentVal","toString","validation","isValidNumber","min","max","markElementValid","markElementInvalid","clearMarkers","keyCode","blur","get","svgValidEl","svgValidSize","getClientRects","SVG_VALID_MARK_WIDTH","width","SVG_VALID_MARK_HALF_HEIGHT","height","SVG_VALID_MARK_WIDTH_ADJUSTMENT","SVG_VALID_MARK_HEIGHT_ADJUSTMENT","ERROR_CSS_CLASS","VISIBLE_CSS_CLASS","isNumeric","test","intVal","_positionValidMark","inputWrapper","parentElement","wrapperWidth","clientWidth","wrapperLeft","offsetLeft","wrapperHeight","clientHeight","wrapperTop","offsetTop","checkLeft","checkTop","left","top","_fadeValidMarkInOut","setTimeout"],"mappings":"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","file":"bundle-4c171a6ee25ff64db202.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/*!******************!*\\\n  !*** multi main ***!\n  \\******************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(/*! ./js/index */7);\n\n\n/***/ },\n/* 1 */\n/*!************************!*\\\n  !*** ./images/owl.png ***!\n  \\************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"269da9844e658bae2c2bf07f1a6fad4f.png\";\n\n/***/ },\n/* 2 */\n/*!*******************!*\\\n  !*** ./js/app.js ***!\n  \\*******************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.app = undefined;\n\t\n\tvar _tweet = __webpack_require__(/*! ../sounds/tweet.mp3 */ 14);\n\t\n\tvar _tweet2 = _interopRequireDefault(_tweet);\n\t\n\tvar _ding = __webpack_require__(/*! ../sounds/ding.mp3 */ 13);\n\t\n\tvar _ding2 = _interopRequireDefault(_ding);\n\t\n\tvar _owl = __webpack_require__(/*! ../images/owl.png */ 1);\n\t\n\tvar _owl2 = _interopRequireDefault(_owl);\n\t\n\tvar _settings = __webpack_require__(/*! ./settings */ 10);\n\t\n\tvar _animationControl = __webpack_require__(/*! ./animation-control */ 5);\n\t\n\tvar _clockContainer = __webpack_require__(/*! ./clock-container */ 3);\n\t\n\tvar _modal = __webpack_require__(/*! ./modal */ 8);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar DIM_CSS_CLASS = 'dim';\n\t\n\tvar settings = new _settings.Settings();\n\t_clockContainer.clockContainer.updateOpacity(settings.clockOpacity);\n\t\n\tvar messageElement = void 0;\n\tvar audioBreakStartEl = void 0;\n\tvar audioBreakOverEl = void 0;\n\t\n\tvar owlSvg = void 0;\n\t\n\tvar clock = void 0;\n\tvar timeElapsed = 0;\n\t\n\tvar WORK_MESSAGE = 'Leave this running...';\n\t\n\tvar start = function start() {\n\t  _modal.modal.open();\n\t};\n\t\n\tvar startContinue = function startContinue() {\n\t  findElements();\n\t  requestPermission();\n\t};\n\t\n\tvar handleNotificationDenied = function handleNotificationDenied() {\n\t  dim();\n\t  messageElement.innerHTML = 'Please allow notifications to use Eye Hoot.';\n\t};\n\t\n\tvar requestPermission = function requestPermission() {\n\t  if (window.Notification && Notification.permission !== 'denied') {\n\t    Notification.requestPermission(function (status) {\n\t      if (status === 'granted') {\n\t        startWork();\n\t      } else {\n\t        handleNotificationDenied();\n\t      }\n\t    });\n\t  } else {\n\t    handleNotificationDenied();\n\t  }\n\t};\n\t\n\tvar findElements = function findElements() {\n\t  messageElement = document.querySelector('.message');\n\t\n\t  audioBreakOverEl = document.querySelector('.break-over');\n\t  audioBreakOverEl.src = _ding2.default;\n\t  audioBreakStartEl = document.querySelector('.break-start');\n\t  audioBreakStartEl.src = _tweet2.default;\n\t\n\t  owlSvg = document.querySelector('.owl-svg');\n\t};\n\t\n\tvar updateMessage = function updateMessage(message) {\n\t  messageElement.innerHTML = message;\n\t};\n\t\n\tvar dim = function dim() {\n\t  [owlSvg, messageElement].forEach(function (el) {\n\t    return el.classList.add(DIM_CSS_CLASS);\n\t  });\n\t};\n\t\n\tvar brighten = function brighten() {\n\t  [owlSvg, messageElement].forEach(function (el) {\n\t    if (el.classList.contains(DIM_CSS_CLASS)) {\n\t      el.classList.remove(DIM_CSS_CLASS);\n\t    }\n\t  });\n\t};\n\t\n\tvar startAnimation = function startAnimation() {\n\t  brighten();\n\t  _animationControl.animationControl.playAnimation();\n\t  updateMessage(_animationControl.animationControl.getAnimationMessage());\n\t};\n\t\n\tvar stopAnimation = function stopAnimation() {\n\t  _animationControl.animationControl.stopAnimation();\n\t};\n\t\n\tvar startLongBreakAnimation = function startLongBreakAnimation() {\n\t  brighten();\n\t  _animationControl.animationControl.startStopLongBreakAnimation();\n\t  updateMessage(_animationControl.animationControl.longBreakAnimationMessage);\n\t};\n\t\n\tvar stopBreakAnimation = function stopBreakAnimation() {\n\t  _animationControl.animationControl.startStopLongBreakAnimation();\n\t};\n\t\n\tvar notify = function notify() {\n\t  var n = new Notification('Eye hoot', {\n\t    body: 'Time for a break!',\n\t    icon: _owl2.default,\n\t    requireInteraction: true\n\t  });\n\t  playSound(audioBreakStartEl);\n\t  n.onclick = notificationClickedHandler.bind(n);\n\t};\n\t\n\tvar notificationClickedHandler = function notificationClickedHandler() {\n\t  window.focus();\n\t  this.close();\n\t  settings.close();\n\t  if (timeElapsed < settings.longBreakInterval) {\n\t    startAnimation();\n\t    startAnimationClock(settings.eyeExerciseDuration);\n\t  } else {\n\t    startLongBreakAnimation();\n\t    startAnimationClock(settings.longBreakDuration);\n\t  }\n\t};\n\t\n\tvar playSound = function playSound(element) {\n\t  if (settings.soundEnabled) {\n\t    element.play();\n\t  }\n\t};\n\t\n\tvar startAnimationClock = function startAnimationClock(interval) {\n\t  clock = $('.clock').FlipClock(interval, {\n\t    clockFace: 'MinuteCounter',\n\t    countdown: true,\n\t    callbacks: {\n\t      stop: stopClockHandler\n\t    }\n\t  });\n\t};\n\t\n\tvar stopClockHandler = function stopClockHandler() {\n\t  if (timeElapsed < settings.longBreakInterval) {\n\t    stopAnimation();\n\t    timeElapsed = timeElapsed + settings.eyeExerciseDuration + settings.eyeExerciseInterval;\n\t    console.debug('stopClockHandler: timeElapsed = ' + timeElapsed);\n\t  } else {\n\t    stopBreakAnimation();\n\t    timeElapsed = 0;\n\t  }\n\t  playSound(audioBreakOverEl);\n\t  startWork();\n\t};\n\t\n\tvar startWork = function startWork() {\n\t  updateMessage(WORK_MESSAGE);\n\t  dim();\n\t  startWorkClock();\n\t};\n\t\n\tvar startWorkClock = function startWorkClock() {\n\t  if (clock) {\n\t    clock.reset(); // clear old callbacks\n\t  }\n\t  clock = $('.clock').FlipClock(settings.eyeExerciseInterval, {\n\t    clockFace: 'MinuteCounter',\n\t    countdown: true,\n\t    callbacks: {\n\t      stop: function stop() {\n\t        notify();\n\t      }\n\t    }\n\t  });\n\t};\n\t\n\t// public api\n\tvar app = {\n\t  start: start,\n\t  startContinue: startContinue,\n\t  startWork: startWork\n\t};\n\t\n\texports.app = app;\n\n/***/ },\n/* 3 */\n/*!*******************************!*\\\n  !*** ./js/clock-container.js ***!\n  \\*******************************/\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar clockContainerEl = document.querySelector('.clock-container');\n\t\n\tvar updateOpacity = function updateOpacity(opacity) {\n\t  clockContainerEl.style.opacity = opacity;\n\t};\n\t\n\t// public api\n\tvar clockContainer = {\n\t  updateOpacity: updateOpacity\n\t};\n\t\n\texports.clockContainer = clockContainer;\n\n/***/ },\n/* 4 */\n/*!**************************!*\\\n  !*** ./js/controller.js ***!\n  \\**************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.controller = undefined;\n\t\n\tvar _app = __webpack_require__(/*! ./app */ 2);\n\t\n\tvar _clockContainer = __webpack_require__(/*! ./clock-container */ 3);\n\t\n\tvar update = function update(key, val) {\n\t  switch (key) {\n\t    case 'introModalClosed':\n\t      _app.app.startContinue();\n\t      break;\n\t    case '_eyeExerciseInterval':\n\t      _app.app.startWork();\n\t      break;\n\t    case '_clockOpacity':\n\t      _clockContainer.clockContainer.updateOpacity(val);\n\t    default:\n\t      break;\n\t  }\n\t};\n\t\n\t// public api\n\tvar controller = {\n\t  update: update\n\t};\n\t\n\texports.controller = controller;\n\n/***/ },\n/* 5 */\n/*!*********************************!*\\\n  !*** ./js/animation-control.js ***!\n  \\*********************************/\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar windowSvg = document.querySelector('.window-svg');\n\tvar owlGraphic = document.querySelector('.owl-graphic');\n\tvar eyes = document.querySelector('.eyes');\n\tvar leftEyeShine = document.querySelector('.left-eye-shine');\n\tvar rightEyeShine = document.querySelector('.right-eye-shine');\n\tvar leftWing = document.querySelector('.left-wing');\n\tvar rightWing = document.querySelector('.right-wing');\n\tvar leftFoot = document.querySelector('.left-foot');\n\tvar rightFoot = document.querySelector('.right-foot');\n\t\n\tvar animationIndex = 0;\n\t\n\tvar sideToSide = function sideToSide() {\n\t  eyes.classList.toggle('side-to-side');\n\t  leftEyeShine.classList.toggle('side-to-side');\n\t  rightEyeShine.classList.toggle('side-to-side');\n\t};\n\t\n\tvar upDown = function upDown() {\n\t  eyes.classList.toggle('up-down');\n\t  leftEyeShine.classList.toggle('up-down');\n\t  rightEyeShine.classList.toggle('up-down');\n\t};\n\t\n\tvar aroundRight = function aroundRight() {\n\t  eyes.classList.toggle('around-right');\n\t  leftEyeShine.classList.toggle('around-right');\n\t  rightEyeShine.classList.toggle('around-right');\n\t};\n\t\n\tvar aroundLeft = function aroundLeft() {\n\t  eyes.classList.toggle('around-left');\n\t};\n\t\n\tvar blinkEyes = function blinkEyes() {\n\t  eyes.classList.toggle('blink');\n\t};\n\t\n\tvar farFocus = function farFocus() {\n\t  windowSvg.classList.toggle('window-visible');\n\t};\n\t\n\tvar longBreak = function longBreak() {\n\t  owlGraphic.classList.toggle('wobble');\n\t  leftWing.classList.toggle('flap-left');\n\t  rightWing.classList.toggle('flap-right');\n\t  rightFoot.classList.toggle('march');\n\t  leftFoot.classList.toggle('march');\n\t};\n\t\n\tvar EYE_ANIMATIONS = [sideToSide, aroundLeft, upDown, aroundRight, blinkEyes, farFocus];\n\t\n\tvar EYE_ANIMATIONS_MESSAGES = ['Move your eyes from side to side', 'Move your eyes around to the left', 'Move your eyes up and down', 'Move your eyes around to the right', 'Open and close your eyes', 'Look out a window or far away object'];\n\t\n\tvar longBreakAnimationMessage = 'Get up and go for for a walk';\n\t\n\tvar playAnimation = function playAnimation() {\n\t  EYE_ANIMATIONS[animationIndex]();\n\t};\n\t\n\tvar stopAnimation = function stopAnimation() {\n\t  EYE_ANIMATIONS[animationIndex]();\n\t  animationIndex = animationIndex === EYE_ANIMATIONS.length - 1 ? 0 : animationIndex + 1;\n\t};\n\t\n\tvar getAnimationMessage = function getAnimationMessage() {\n\t  return EYE_ANIMATIONS_MESSAGES[animationIndex];\n\t};\n\t\n\tvar startStopLongBreakAnimation = function startStopLongBreakAnimation() {\n\t  longBreak();\n\t};\n\t\n\t// public api\n\tvar animationControl = {\n\t  playAnimation: playAnimation,\n\t  stopAnimation: stopAnimation,\n\t  getAnimationMessage: getAnimationMessage,\n\t  startStopLongBreakAnimation: startStopLongBreakAnimation,\n\t  longBreakAnimationMessage: longBreakAnimationMessage\n\t};\n\t\n\texports.animationControl = animationControl;\n\n/***/ },\n/* 6 */\n/*!**************************!*\\\n  !*** ./js/conversion.js ***!\n  \\**************************/\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar SECONDS_IN_MINUTE = 60;\n\t\n\tvar secondsToMinutes = function secondsToMinutes(val) {\n\t  return val / SECONDS_IN_MINUTE;\n\t};\n\t\n\tvar minutesToSeconds = function minutesToSeconds(val) {\n\t  return val * SECONDS_IN_MINUTE;\n\t};\n\t\n\tvar stringToBoolean = function stringToBoolean(val) {\n\t  return val === 'true' ? true : false;\n\t};\n\t\n\tvar stringToInt = function stringToInt(val) {\n\t  var result = parseInt(val, 10);\n\t  if (!isNaN(result)) {\n\t    return result;\n\t  } else {\n\t    throw new Error('Expected numeric integer setting');\n\t  }\n\t};\n\t\n\tvar stringToFloat = function stringToFloat(val) {\n\t  var result = parseFloat(val);\n\t  if (!isNaN(result)) {\n\t    return result;\n\t  } else {\n\t    throw new Error('Expected numeric float setting');\n\t  }\n\t};\n\t\n\t// public api\n\tvar conversion = {\n\t  secondsToMinutes: secondsToMinutes,\n\t  minutesToSeconds: minutesToSeconds,\n\t  stringToBoolean: stringToBoolean,\n\t  stringToInt: stringToInt,\n\t  stringToFloat: stringToFloat\n\t};\n\t\n\texports.conversion = conversion;\n\n/***/ },\n/* 7 */\n/*!*********************!*\\\n  !*** ./js/index.js ***!\n  \\*********************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _app = __webpack_require__(/*! ./app */ 2);\n\t\n\t__webpack_require__(/*! ../css/styles.scss */ 12);\n\t__webpack_require__(/*! ../images/owl.png */ 1);\n\t\n\tdocument.addEventListener('DOMContentLoaded', _app.app.start);\n\n/***/ },\n/* 8 */\n/*!*********************!*\\\n  !*** ./js/modal.js ***!\n  \\*********************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.modal = undefined;\n\t\n\tvar _controller = __webpack_require__(/*! ./controller */ 4);\n\t\n\tvar _owl = __webpack_require__(/*! ../images/owl.png */ 1);\n\t\n\tvar _owl2 = _interopRequireDefault(_owl);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar modalEl = document.querySelector('#modal');\n\tvar modalOverlayEl = document.querySelector('#modalOverlay');\n\tvar modalCloseEl = document.querySelector('#modalClose');\n\tvar modalStartEl = document.querySelector('#modalStart');\n\tvar modalLogoEl = document.querySelector('#modalLogo');\n\t\n\tmodalLogoEl.src = _owl2.default;\n\tmodalCloseEl.addEventListener('click', function () {\n\t  return close();\n\t});\n\tmodalStartEl.addEventListener('click', function () {\n\t  return close();\n\t});\n\t\n\tvar open = function open() {\n\t  modalEl.classList.toggle('closed');\n\t  modalOverlayEl.classList.toggle('closed');\n\t};\n\t\n\tvar close = function close() {\n\t  modalEl.classList.toggle('closed');\n\t  modalOverlayEl.classList.toggle('closed');\n\t  _controller.controller.update('introModalClosed');\n\t};\n\t\n\t// public api\n\tvar modal = {\n\t  open: open,\n\t  close: close\n\t};\n\t\n\texports.modal = modal;\n\n/***/ },\n/* 9 */\n/*!***************************!*\\\n  !*** ./js/persistence.js ***!\n  \\***************************/\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar APP_KEY = 'eyehoot';\n\t\n\tvar storageAvailable = function storageAvailable(type) {\n\t  try {\n\t    var storage = window[type],\n\t        x = '__storage_test__';\n\t    storage.setItem(x, x);\n\t    storage.removeItem(x);\n\t    return true;\n\t  } catch (e) {\n\t    return false;\n\t  }\n\t};\n\t\n\tvar localStorageAvailable = storageAvailable('localStorage');\n\t\n\tvar saveItem = function saveItem(key, value) {\n\t  localStorage.setItem(APP_KEY + '-' + key, value);\n\t};\n\t\n\tvar save = function save(key, value) {\n\t  if (localStorageAvailable) {\n\t    saveItem(key, value);\n\t  }\n\t};\n\t\n\tvar retrieveItem = function retrieveItem(key) {\n\t  return localStorage.getItem(APP_KEY + '-' + key);\n\t};\n\t\n\tvar retrieve = function retrieve(key, defaultVal) {\n\t  if (localStorageAvailable) {\n\t    var result = retrieveItem(key);\n\t    return result == undefined ? defaultVal : result;\n\t  } else {\n\t    return defaultVal;\n\t  }\n\t};\n\t\n\tvar removeAll = function removeAll() {\n\t  if (localStorageAvailable) {\n\t    localStorage.clear();\n\t  }\n\t};\n\t\n\t// public api\n\tvar persistence = {\n\t  save: save,\n\t  retrieve: retrieve,\n\t  removeAll: removeAll\n\t};\n\t\n\texports.persistence = persistence;\n\n/***/ },\n/* 10 */\n/*!************************!*\\\n  !*** ./js/settings.js ***!\n  \\************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Settings = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _persistence = __webpack_require__(/*! ./persistence */ 9);\n\t\n\tvar _conversion = __webpack_require__(/*! ./conversion */ 6);\n\t\n\tvar _validation = __webpack_require__(/*! ./validation */ 11);\n\t\n\tvar _controller = __webpack_require__(/*! ./controller */ 4);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar DEFAULT_SOUND_ENABLED = 'true';\n\tvar DEFAULT_CLOCK_OPACITY = '1';\n\tvar SETTINGS_HIDDEN_CLASS = 'settings-hidden';\n\t\n\tvar containerEl = document.querySelector('.settings-container');\n\tvar eyeExerciseIntervalEl = document.getElementsByName('eyeExerciseInterval')[0];\n\tvar longBreakIntervalEl = document.getElementsByName('longBreakInterval')[0];\n\tvar longBreakDurationEl = document.getElementsByName('longBreakDuration')[0];\n\tvar soundEnabledEl = document.getElementById('soundEnabled');\n\tvar clockOpacityEl = document.getElementById('clockOpacity');\n\tvar closeSettingsEl = document.getElementById('settingsClose');\n\tvar openSettingsEl = document.getElementById('settingsOpen');\n\tvar restoreSettingsEl = document.getElementById('restoreSettings');\n\t\n\tvar Settings = exports.Settings = function () {\n\t  function Settings() {\n\t    _classCallCheck(this, Settings);\n\t\n\t    this._init();\n\t    this._registerEvents();\n\t    this._populateFields();\n\t  }\n\t\n\t  _createClass(Settings, [{\n\t    key: '_init',\n\t    value: function _init() {\n\t      this._eyeExerciseDuration = (10);\n\t      this._eyeExerciseInterval = _conversion.conversion.stringToInt(_persistence.persistence.retrieve('_eyeExerciseInterval', (900)));\n\t      this._longBreakInterval = _conversion.conversion.stringToInt(_persistence.persistence.retrieve('_longBreakInterval', (3600)));\n\t      this._longBreakDuration = _conversion.conversion.stringToInt(_persistence.persistence.retrieve('_longBreakDuration', (300)));\n\t      this._soundEnabled = _conversion.conversion.stringToBoolean(_persistence.persistence.retrieve('_soundEnabled', DEFAULT_SOUND_ENABLED));\n\t      this._clockOpacity = _conversion.conversion.stringToFloat(_persistence.persistence.retrieve('_clockOpacity', DEFAULT_CLOCK_OPACITY));\n\t    }\n\t  }, {\n\t    key: '_registerEvents',\n\t    value: function _registerEvents() {\n\t      var _this = this;\n\t\n\t      // numeric inputs\n\t      eyeExerciseIntervalEl.addEventListener('blur', function () {\n\t        return _this._numericChangeHandler(eyeExerciseIntervalEl, '_eyeExerciseInterval');\n\t      });\n\t      eyeExerciseIntervalEl.addEventListener('keypress', function (evt) {\n\t        return _this._keyPressHandler(eyeExerciseIntervalEl, '_eyeExerciseInterval', evt);\n\t      });\n\t      longBreakIntervalEl.addEventListener('blur', function () {\n\t        return _this._numericChangeHandler(longBreakIntervalEl, '_longBreakInterval');\n\t      });\n\t      longBreakIntervalEl.addEventListener('keypress', function (evt) {\n\t        return _this._keyPressHandler(longBreakIntervalEl, '_longBreakInterval', evt);\n\t      });\n\t      longBreakDurationEl.addEventListener('blur', function () {\n\t        return _this._numericChangeHandler(longBreakDurationEl, '_longBreakDuration');\n\t      });\n\t      longBreakDurationEl.addEventListener('keypress', function (evt) {\n\t        return _this._keyPressHandler(longBreakDurationEl, '_longBreakDuration', evt);\n\t      });\n\t      // checkboxes\n\t      soundEnabledEl.addEventListener('change', function () {\n\t        return _this._booleanChangeHandler(soundEnabledEl, '_soundEnabled');\n\t      });\n\t      // ranges\n\t      clockOpacityEl.addEventListener('input', function () {\n\t        return _this._rangeChangeHandler(clockOpacityEl, '_clockOpacity');\n\t      });\n\t      // buttons\n\t      closeSettingsEl.addEventListener('click', function () {\n\t        return _this.close();\n\t      });\n\t      openSettingsEl.addEventListener('click', function () {\n\t        return _this._open();\n\t      });\n\t      restoreSettingsEl.addEventListener('click', function () {\n\t        return _this._restore();\n\t      });\n\t    }\n\t  }, {\n\t    key: '_populateFields',\n\t    value: function _populateFields() {\n\t      eyeExerciseIntervalEl.value = _conversion.conversion.secondsToMinutes(this._eyeExerciseInterval);\n\t      longBreakIntervalEl.value = _conversion.conversion.secondsToMinutes(this._longBreakInterval);\n\t      longBreakDurationEl.value = _conversion.conversion.secondsToMinutes(this._longBreakDuration);\n\t      clockOpacity.value = this._clockOpacity;\n\t      soundEnabledEl.checked = this._soundEnabled;\n\t    }\n\t  }, {\n\t    key: '_numericChangeHandler',\n\t    value: function _numericChangeHandler(element, property) {\n\t      var isValid = true;\n\t      var newVal = element.value;\n\t      var currentVal = _conversion.conversion.secondsToMinutes(this[property]).toString();\n\t      if (newVal !== currentVal) {\n\t        if (_validation.validation.isValidNumber(newVal, parseInt(element.min, 10), parseInt(element.max, 10))) {\n\t          this[property] = _conversion.conversion.minutesToSeconds(newVal);\n\t          _persistence.persistence.save(property, this[property]);\n\t          _validation.validation.markElementValid(element);\n\t          _controller.controller.update(property);\n\t        } else {\n\t          isValid = false;\n\t          _validation.validation.markElementInvalid(element);\n\t        }\n\t      } else {\n\t        _validation.validation.clearMarkers(element);\n\t      }\n\t      return isValid;\n\t    }\n\t  }, {\n\t    key: '_keyPressHandler',\n\t    value: function _keyPressHandler(element, property, evt) {\n\t      if (evt.keyCode === 13) {\n\t        var isValid = this._numericChangeHandler(element, property);\n\t        if (!isValid) {\n\t          element.focus();\n\t        } else {\n\t          element.blur();\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: '_booleanChangeHandler',\n\t    value: function _booleanChangeHandler(element, property) {\n\t      var newVal = element.checked;\n\t      if (newVal !== this[property]) {\n\t        this[property] = newVal;\n\t        _persistence.persistence.save(property, this[property]);\n\t      }\n\t    }\n\t  }, {\n\t    key: '_rangeChangeHandler',\n\t    value: function _rangeChangeHandler(element, property) {\n\t      var newVal = element.value;\n\t      _controller.controller.update(property, newVal);\n\t      this[property] = newVal;\n\t      _persistence.persistence.save(property, this[property]);\n\t    }\n\t  }, {\n\t    key: 'close',\n\t    value: function close() {\n\t      if (!containerEl.classList.contains(SETTINGS_HIDDEN_CLASS)) {\n\t        containerEl.classList.add(SETTINGS_HIDDEN_CLASS);\n\t      }\n\t    }\n\t  }, {\n\t    key: '_open',\n\t    value: function _open() {\n\t      containerEl.classList.remove(SETTINGS_HIDDEN_CLASS);\n\t    }\n\t  }, {\n\t    key: '_restore',\n\t    value: function _restore() {\n\t      _persistence.persistence.removeAll();\n\t      this._init();\n\t      this._populateFields();\n\t\n\t      _controller.controller.update('_eyeExerciseInterval', this._eyeExerciseInterval);\n\t      _controller.controller.update('_clockOpacity', this._clockOpacity);\n\t    }\n\t  }, {\n\t    key: 'eyeExerciseInterval',\n\t    get: function get() {\n\t      return this._eyeExerciseInterval;\n\t    }\n\t  }, {\n\t    key: 'longBreakInterval',\n\t    get: function get() {\n\t      return this._longBreakInterval;\n\t    }\n\t  }, {\n\t    key: 'eyeExerciseDuration',\n\t    get: function get() {\n\t      return this._eyeExerciseDuration;\n\t    }\n\t  }, {\n\t    key: 'longBreakDuration',\n\t    get: function get() {\n\t      return this._longBreakDuration;\n\t    }\n\t  }, {\n\t    key: 'soundEnabled',\n\t    get: function get() {\n\t      return this._soundEnabled;\n\t    }\n\t  }, {\n\t    key: 'clockOpacity',\n\t    get: function get() {\n\t      return this._clockOpacity;\n\t    }\n\t  }]);\n\n\t  return Settings;\n\t}();\n\n/***/ },\n/* 11 */\n/*!**************************!*\\\n  !*** ./js/validation.js ***!\n  \\**************************/\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar svgValidEl = document.querySelector('.check-svg');\n\tvar svgValidSize = svgValidEl.getClientRects()[0];\n\tvar SVG_VALID_MARK_WIDTH = svgValidSize.width;\n\tvar SVG_VALID_MARK_HALF_HEIGHT = svgValidSize.height / 2;\n\tvar SVG_VALID_MARK_WIDTH_ADJUSTMENT = 3;\n\tvar SVG_VALID_MARK_HEIGHT_ADJUSTMENT = 5;\n\t\n\tvar ERROR_CSS_CLASS = 'settings-input-error';\n\tvar VISIBLE_CSS_CLASS = 'visible';\n\t\n\tvar isValidNumber = function isValidNumber(val, min, max) {\n\t  var isNumeric = /^(?:[1-9]\\d*|0)$/.test(val);\n\t  var intVal = parseInt(val, 10);\n\t  return isNumeric && intVal >= min && intVal <= max;\n\t};\n\t\n\tvar markElementInvalid = function markElementInvalid(element) {\n\t  element.classList.add(ERROR_CSS_CLASS);\n\t};\n\t\n\tvar clearMarkers = function clearMarkers(element) {\n\t  if (element.classList.contains(ERROR_CSS_CLASS)) {\n\t    element.classList.remove(ERROR_CSS_CLASS);\n\t  }\n\t};\n\t\n\tvar _positionValidMark = function _positionValidMark(element) {\n\t  var inputWrapper = element.parentElement;\n\t  var wrapperWidth = inputWrapper.clientWidth;\n\t  var wrapperLeft = inputWrapper.offsetLeft;\n\t  var wrapperHeight = inputWrapper.clientHeight;\n\t  var wrapperTop = inputWrapper.offsetTop;\n\t  var checkLeft = wrapperWidth + wrapperLeft - SVG_VALID_MARK_WIDTH + SVG_VALID_MARK_WIDTH_ADJUSTMENT;\n\t  var checkTop = wrapperHeight + wrapperTop - SVG_VALID_MARK_HALF_HEIGHT + SVG_VALID_MARK_HEIGHT_ADJUSTMENT;\n\t  svgValidEl.style.left = checkLeft + 'px';\n\t  svgValidEl.style.top = checkTop + 'px';\n\t};\n\t\n\tvar _fadeValidMarkInOut = function _fadeValidMarkInOut() {\n\t  if (svgValidEl.classList.contains(VISIBLE_CSS_CLASS)) {\n\t    svgValidEl.classList.remove(VISIBLE_CSS_CLASS);\n\t  }\n\t  svgValidEl.classList.add(VISIBLE_CSS_CLASS);\n\t  setTimeout(function () {\n\t    svgValidEl.classList.remove(VISIBLE_CSS_CLASS);\n\t  }, 2000);\n\t};\n\t\n\tvar markElementValid = function markElementValid(element) {\n\t  clearMarkers(element);\n\t  _positionValidMark(element);\n\t  _fadeValidMarkInOut();\n\t};\n\t\n\t// public api\n\tvar validation = {\n\t  isValidNumber: isValidNumber,\n\t  markElementInvalid: markElementInvalid,\n\t  markElementValid: markElementValid,\n\t  clearMarkers: clearMarkers\n\t};\n\t\n\texports.validation = validation;\n\n/***/ },\n/* 12 */\n/*!*************************!*\\\n  !*** ./css/styles.scss ***!\n  \\*************************/\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 13 */\n/*!*************************!*\\\n  !*** ./sounds/ding.mp3 ***!\n  \\*************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"b506a66a688dd0df4b191f1ff1611c45.mp3\";\n\n/***/ },\n/* 14 */\n/*!**************************!*\\\n  !*** ./sounds/tweet.mp3 ***!\n  \\**************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"9a62c3d1f3ca4b470bc4a446f5c9c9e1.mp3\";\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// bundle-4c171a6ee25ff64db202.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4c171a6ee25ff64db202","module.exports = __webpack_public_path__ + \"269da9844e658bae2c2bf07f1a6fad4f.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./images/owl.png\n// module id = 1\n// module chunks = 0","import breakStartAudioFile from '../sounds/tweet.mp3';\nimport breakOverAudioFile from '../sounds/ding.mp3';\nimport owlImage from '../images/owl.png';\nimport {Settings} from './settings';\nimport {animationControl} from './animation-control';\nimport {clockContainer} from './clock-container';\nimport {modal} from './modal';\n\nconst DIM_CSS_CLASS = 'dim';\n\nlet settings = new Settings();\nclockContainer.updateOpacity(settings.clockOpacity);\n\nlet messageElement;\nlet audioBreakStartEl;\nlet audioBreakOverEl;\n\nlet owlSvg;\n\nlet clock;\nlet timeElapsed = 0;\n\nconst WORK_MESSAGE = 'Leave this running...';\n\nlet start = function() {\n  modal.open();\n};\n\nlet startContinue = function() {\n  findElements();\n  requestPermission();\n};\n\nlet handleNotificationDenied = function() {\n  dim();\n  messageElement.innerHTML = 'Please allow notifications to use Eye Hoot.';\n}\n\nlet requestPermission = function() {\n  if (window.Notification && Notification.permission !== 'denied') {\n    Notification.requestPermission(function(status) {\n      if (status === 'granted') {\n        startWork();\n      } else {\n        handleNotificationDenied();\n      }\n    });\n  } else {\n    handleNotificationDenied();\n  }\n};\n\nlet findElements = function() {\n  messageElement = document.querySelector('.message');\n\n  audioBreakOverEl = document.querySelector('.break-over');\n  audioBreakOverEl.src = breakOverAudioFile;\n  audioBreakStartEl = document.querySelector('.break-start');\n  audioBreakStartEl.src = breakStartAudioFile;\n\n  owlSvg = document.querySelector('.owl-svg');\n};\n\nlet updateMessage = function(message) {\n  messageElement.innerHTML = message;\n};\n\nlet dim = function() {\n  [owlSvg, messageElement].forEach(el => el.classList.add(DIM_CSS_CLASS));\n}\n\nlet brighten = function() {\n  [owlSvg, messageElement].forEach(el => {\n    if (el.classList.contains(DIM_CSS_CLASS)) {\n      el.classList.remove(DIM_CSS_CLASS);\n    }\n  });\n}\n\nlet startAnimation = function() {\n  brighten();\n  animationControl.playAnimation();\n  updateMessage(animationControl.getAnimationMessage());\n};\n\nlet stopAnimation = function() {\n  animationControl.stopAnimation();\n};\n\nlet startLongBreakAnimation = function() {\n  brighten();\n  animationControl.startStopLongBreakAnimation();\n  updateMessage(animationControl.longBreakAnimationMessage);\n};\n\nlet stopBreakAnimation = function() {\n  animationControl.startStopLongBreakAnimation();\n};\n\nlet notify = function() {\n  let n = new Notification('Eye hoot', {\n    body: 'Time for a break!',\n    icon: owlImage,\n    requireInteraction: true\n  });\n  playSound(audioBreakStartEl);\n  n.onclick = notificationClickedHandler.bind(n);\n};\n\nlet notificationClickedHandler = function() {\n  window.focus();\n  this.close();\n  settings.close();\n  if (timeElapsed < settings.longBreakInterval) {\n    startAnimation();\n    startAnimationClock(settings.eyeExerciseDuration);\n  } else {\n    startLongBreakAnimation();\n    startAnimationClock(settings.longBreakDuration);\n  }\n}\n\nlet playSound = function(element) {\n  if (settings.soundEnabled) {\n    element.play();\n  }\n}\n\nlet startAnimationClock = function(interval) {\n  clock = $('.clock').FlipClock(interval, {\n    clockFace: 'MinuteCounter',\n    countdown: true,\n    callbacks: {\n      stop: stopClockHandler\n    }\n  });\n}\n\nlet stopClockHandler = function() {\n  if (timeElapsed < settings.longBreakInterval) {\n    stopAnimation();\n    timeElapsed = timeElapsed + settings.eyeExerciseDuration + settings.eyeExerciseInterval;\n    console.debug(`stopClockHandler: timeElapsed = ${timeElapsed}`);\n  } else {\n    stopBreakAnimation();\n    timeElapsed = 0;\n  }\n  playSound(audioBreakOverEl);\n  startWork();\n}\n\nlet startWork = function() {\n  updateMessage(WORK_MESSAGE);\n  dim();\n  startWorkClock();\n};\n\nlet startWorkClock = function() {\n  if (clock) {\n    clock.reset();  // clear old callbacks\n  }\n  clock = $('.clock').FlipClock(settings.eyeExerciseInterval, {\n    clockFace: 'MinuteCounter',\n    countdown: true,\n    callbacks: {\n      stop: function() {\n        notify();\n      }\n    }\n  });\n}\n\n// public api\nlet app = {\n  start,\n  startContinue,\n  startWork\n};\n\nexport {app};\n\n\n\n// WEBPACK FOOTER //\n// ./js/app.js","const clockContainerEl = document.querySelector('.clock-container');\n\nlet updateOpacity = function(opacity) {\n  clockContainerEl.style.opacity = opacity;\n}\n\n// public api\nlet clockContainer = {\n  updateOpacity\n};\n\nexport {clockContainer};\n\n\n\n// WEBPACK FOOTER //\n// ./js/clock-container.js","import {app} from './app';\nimport {clockContainer} from './clock-container';\n\nlet update = function(key, val) {\n  switch(key) {\n    case 'introModalClosed':\n      app.startContinue();\n      break;\n    case '_eyeExerciseInterval':\n      app.startWork();\n      break;\n    case '_clockOpacity':\n      clockContainer.updateOpacity(val);\n    default:\n      break;\n  }\n}\n\n// public api\nlet controller = {\n  update\n};\n\nexport {controller};\n\n\n\n// WEBPACK FOOTER //\n// ./js/controller.js","const windowSvg = document.querySelector('.window-svg');\nconst owlGraphic = document.querySelector('.owl-graphic');\nconst eyes = document.querySelector('.eyes');\nconst leftEyeShine = document.querySelector('.left-eye-shine');\nconst rightEyeShine = document.querySelector('.right-eye-shine');\nconst leftWing = document.querySelector('.left-wing');\nconst rightWing = document.querySelector('.right-wing');\nconst leftFoot = document.querySelector('.left-foot');\nconst rightFoot = document.querySelector('.right-foot');\n\nlet animationIndex = 0;\n\nlet sideToSide = function() {\n  eyes.classList.toggle('side-to-side');\n  leftEyeShine.classList.toggle('side-to-side');\n  rightEyeShine.classList.toggle('side-to-side');\n};\n\nlet upDown = function() {\n  eyes.classList.toggle('up-down');\n  leftEyeShine.classList.toggle('up-down');\n  rightEyeShine.classList.toggle('up-down');\n};\n\nlet aroundRight = function() {\n  eyes.classList.toggle('around-right');\n  leftEyeShine.classList.toggle('around-right');\n  rightEyeShine.classList.toggle('around-right');\n};\n\nlet aroundLeft = function() {\n  eyes.classList.toggle('around-left');\n}\n\nlet blinkEyes = function() {\n  eyes.classList.toggle('blink');\n};\n\nlet farFocus = function() {\n  windowSvg.classList.toggle('window-visible');\n}\n\nlet longBreak = function() {\n  owlGraphic.classList.toggle('wobble');\n  leftWing.classList.toggle('flap-left');\n  rightWing.classList.toggle('flap-right');\n  rightFoot.classList.toggle('march');\n  leftFoot.classList.toggle('march');\n}\n\nlet EYE_ANIMATIONS = [\n  sideToSide,\n  aroundLeft,\n  upDown, \n  aroundRight,\n  blinkEyes,\n  farFocus\n];\n\nlet EYE_ANIMATIONS_MESSAGES = [\n  'Move your eyes from side to side',\n  'Move your eyes around to the left',\n  'Move your eyes up and down',\n  'Move your eyes around to the right',\n  'Open and close your eyes',\n  'Look out a window or far away object'\n];\n\nconst longBreakAnimationMessage = 'Get up and go for for a walk';\n\nlet playAnimation = function() {\n  EYE_ANIMATIONS[animationIndex]();\n}\n\nlet stopAnimation = function() {\n  EYE_ANIMATIONS[animationIndex]();\n  animationIndex = (animationIndex === EYE_ANIMATIONS.length - 1) ? 0 : animationIndex + 1;\n}\n\nlet getAnimationMessage = function() {\n  return EYE_ANIMATIONS_MESSAGES[animationIndex];\n}\n\nlet startStopLongBreakAnimation = function() {\n  longBreak();\n}\n\n// public api\nlet animationControl =  {\n  playAnimation,\n  stopAnimation,\n  getAnimationMessage,\n  startStopLongBreakAnimation,\n  longBreakAnimationMessage\n};\n\nexport {animationControl};\n\n\n\n// WEBPACK FOOTER //\n// ./js/animation-control.js","const SECONDS_IN_MINUTE = 60;\n\nlet secondsToMinutes = function(val) {\n  return val / SECONDS_IN_MINUTE;\n}\n\nlet minutesToSeconds = function(val) {\n  return val * SECONDS_IN_MINUTE;\n}\n\nlet stringToBoolean = function(val) {\n  return val === 'true' ? true : false;\n}\n\nlet stringToInt = function(val) {\n  let result = parseInt(val, 10);\n  if (!isNaN(result)) {\n    return result;\n  } else {\n    throw new Error('Expected numeric integer setting');\n  }\n}\n\nlet stringToFloat = function(val) {\n  let result = parseFloat(val);\n  if (!isNaN(result)) {\n    return result;\n  } else {\n    throw new Error('Expected numeric float setting');\n  }\n}\n\n// public api\nlet conversion =  {\n  secondsToMinutes,\n  minutesToSeconds,\n  stringToBoolean,\n  stringToInt,\n  stringToFloat\n};\n\nexport {conversion};\n\n\n\n// WEBPACK FOOTER //\n// ./js/conversion.js","require('../css/styles.scss');\nrequire('../images/owl.png');\n\nimport {app} from './app';\n\ndocument.addEventListener('DOMContentLoaded', app.start);\n\n\n\n// WEBPACK FOOTER //\n// ./js/index.js","import {controller} from './controller';\nimport owlImage from '../images/owl.png';\n\nconst modalEl = document.querySelector('#modal');\nconst modalOverlayEl = document.querySelector('#modalOverlay');\nconst modalCloseEl = document.querySelector('#modalClose');\nconst modalStartEl = document.querySelector('#modalStart');\nconst modalLogoEl = document.querySelector('#modalLogo');\n\nmodalLogoEl.src = owlImage;\nmodalCloseEl.addEventListener('click', () => close());\nmodalStartEl.addEventListener('click', () => close());\n\nlet open = function() {\n  modalEl.classList.toggle('closed');\n  modalOverlayEl.classList.toggle('closed');\n};\n\nlet close = function() {\n  modalEl.classList.toggle('closed');\n  modalOverlayEl.classList.toggle('closed');\n  controller.update('introModalClosed');\n}\n\n// public api\nlet modal = {\n  open,\n  close\n};\n\nexport {modal};\n\n\n\n// WEBPACK FOOTER //\n// ./js/modal.js","const APP_KEY = 'eyehoot';\n\nlet storageAvailable = function(type) {\n\ttry {\n\t\tvar storage = window[type],\n\t\t\tx = '__storage_test__';\n\t\tstorage.setItem(x, x);\n\t\tstorage.removeItem(x);\n\t\treturn true;\n\t}\n\tcatch(e) {\n\t\treturn false;\n\t}\n}\n\nlet localStorageAvailable = storageAvailable('localStorage');\n\nlet saveItem = function(key, value) {\n  localStorage.setItem(`${APP_KEY}-${key}`, value);\n}\n\nlet save = function(key, value) {\n  if (localStorageAvailable) {\n    saveItem(key, value);\n  }\n}\n\nlet retrieveItem = function(key) {\n  return localStorage.getItem(`${APP_KEY}-${key}`);\n}\n\nlet retrieve = function(key, defaultVal) {\n  if (localStorageAvailable) {\n    let result = retrieveItem(key);\n    return result == undefined ? defaultVal : result;\n  } else {\n    return defaultVal;\n  }\n}\n\nlet removeAll = function() {\n  if (localStorageAvailable) {\n    localStorage.clear();\n  }\n}\n\n// public api\nlet persistence = {\n  save,\n  retrieve,\n  removeAll\n};\n\nexport {persistence};\n\n\n\n// WEBPACK FOOTER //\n// ./js/persistence.js","import {persistence} from './persistence';\nimport {conversion} from './conversion';\nimport {validation} from './validation';\nimport {controller} from './controller';\n\nconst DEFAULT_SOUND_ENABLED = 'true';\nconst DEFAULT_CLOCK_OPACITY = '1';\nconst SETTINGS_HIDDEN_CLASS = 'settings-hidden';\n\nconst containerEl = document.querySelector('.settings-container');\nconst eyeExerciseIntervalEl = document.getElementsByName('eyeExerciseInterval')[0];\nconst longBreakIntervalEl = document.getElementsByName('longBreakInterval')[0];\nconst longBreakDurationEl = document.getElementsByName('longBreakDuration')[0];\nconst soundEnabledEl = document.getElementById('soundEnabled');\nconst clockOpacityEl = document.getElementById('clockOpacity');\nconst closeSettingsEl = document.getElementById('settingsClose');\nconst openSettingsEl = document.getElementById('settingsOpen');\nconst restoreSettingsEl = document.getElementById('restoreSettings');\n\nexport class Settings {\n  constructor() {\n    this._init();\n    this._registerEvents();\n    this._populateFields();\n  }\n\n  _init() {\n    this._eyeExerciseDuration = DEFAULT_EYE_EXERCISE_DURATION;\n    this._eyeExerciseInterval = conversion.stringToInt(persistence.retrieve('_eyeExerciseInterval', DEFAULT_EYE_EXERCISE_INTERVAL));\n    this._longBreakInterval = conversion.stringToInt(persistence.retrieve('_longBreakInterval', DEFAULT_LONG_BREAK_INTERVAL));\n    this._longBreakDuration = conversion.stringToInt(persistence.retrieve('_longBreakDuration', DEFAULT_LONG_BREAK_DURATION));\n    this._soundEnabled = conversion.stringToBoolean(persistence.retrieve('_soundEnabled', DEFAULT_SOUND_ENABLED));\n    this._clockOpacity = conversion.stringToFloat(persistence.retrieve('_clockOpacity', DEFAULT_CLOCK_OPACITY));\n  }\n\n  _registerEvents() {\n    // numeric inputs\n    eyeExerciseIntervalEl.addEventListener('blur', () => this._numericChangeHandler(eyeExerciseIntervalEl, '_eyeExerciseInterval'));\n    eyeExerciseIntervalEl.addEventListener('keypress', (evt) => this._keyPressHandler(eyeExerciseIntervalEl, '_eyeExerciseInterval', evt));\n    longBreakIntervalEl.addEventListener('blur', () => this._numericChangeHandler(longBreakIntervalEl, '_longBreakInterval'));\n    longBreakIntervalEl.addEventListener('keypress', (evt) => this._keyPressHandler(longBreakIntervalEl, '_longBreakInterval', evt));\n    longBreakDurationEl.addEventListener('blur', () => this._numericChangeHandler(longBreakDurationEl, '_longBreakDuration'));\n    longBreakDurationEl.addEventListener('keypress', (evt) => this._keyPressHandler(longBreakDurationEl, '_longBreakDuration', evt));\n    // checkboxes\n    soundEnabledEl.addEventListener('change', () => this._booleanChangeHandler(soundEnabledEl, '_soundEnabled'));\n    // ranges\n    clockOpacityEl.addEventListener('input', () => this._rangeChangeHandler(clockOpacityEl, '_clockOpacity'))\n    // buttons\n    closeSettingsEl.addEventListener('click', () => this.close());\n    openSettingsEl.addEventListener('click', () => this._open());\n    restoreSettingsEl.addEventListener('click', () => this._restore());\n  }\n\n  _populateFields() {\n    eyeExerciseIntervalEl.value = conversion.secondsToMinutes(this._eyeExerciseInterval);\n    longBreakIntervalEl.value = conversion.secondsToMinutes(this._longBreakInterval);\n    longBreakDurationEl.value = conversion.secondsToMinutes(this._longBreakDuration);\n    clockOpacity.value = this._clockOpacity;\n    soundEnabledEl.checked = this._soundEnabled;\n  }\n\n  _numericChangeHandler(element, property) {\n    let isValid = true;\n    let newVal = element.value;\n    let currentVal = conversion.secondsToMinutes(this[property]).toString();\n    if (newVal !== currentVal) {\n      if (validation.isValidNumber(newVal, parseInt(element.min, 10), parseInt(element.max, 10))) {\n        this[property] = conversion.minutesToSeconds(newVal);\n        persistence.save(property, this[property]);\n        validation.markElementValid(element);\n        controller.update(property);\n      } else {\n        isValid = false;\n        validation.markElementInvalid(element);\n      }\n    } else {\n      validation.clearMarkers(element);\n    }\n    return isValid;\n  }\n\n  _keyPressHandler(element, property, evt) {\n    if (evt.keyCode === 13) {\n      let isValid = this._numericChangeHandler(element, property);\n      if (!isValid) {\n        element.focus();\n      } else {\n        element.blur();\n      }\n    }\n  }\n\n  _booleanChangeHandler(element, property) {\n    let newVal = element.checked;\n    if (newVal !== this[property]) {\n      this[property] = newVal;\n      persistence.save(property, this[property]);\n    }\n  }\n\n\n  _rangeChangeHandler(element, property) {\n    let newVal = element.value;\n    controller.update(property, newVal);\n    this[property] = newVal;\n    persistence.save(property, this[property]);\n  }\n\n  close() {\n    if (!containerEl.classList.contains(SETTINGS_HIDDEN_CLASS)) {\n      containerEl.classList.add(SETTINGS_HIDDEN_CLASS);\n    }\n  }\n\n  _open() {\n    containerEl.classList.remove(SETTINGS_HIDDEN_CLASS);\n  }\n\n  _restore() {\n    persistence.removeAll();\n    this._init();\n    this._populateFields();\n\n    controller.update('_eyeExerciseInterval', this._eyeExerciseInterval);\n    controller.update('_clockOpacity', this._clockOpacity);\n  }\n\n  get eyeExerciseInterval() {\n    return this._eyeExerciseInterval;\n  }\n\n  get longBreakInterval() {\n    return this._longBreakInterval;\n  }\n\n  get eyeExerciseDuration() {\n    return this._eyeExerciseDuration;\n  }\n\n  get longBreakDuration() {\n    return this._longBreakDuration;\n  }\n\n  get soundEnabled() {\n    return this._soundEnabled;\n  }\n\n  get clockOpacity() {\n    return this._clockOpacity;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/settings.js","const svgValidEl = document.querySelector('.check-svg');\nconst svgValidSize = svgValidEl.getClientRects()[0];\nconst SVG_VALID_MARK_WIDTH = svgValidSize.width;\nconst SVG_VALID_MARK_HALF_HEIGHT = svgValidSize.height / 2;\nconst SVG_VALID_MARK_WIDTH_ADJUSTMENT = 3;\nconst SVG_VALID_MARK_HEIGHT_ADJUSTMENT = 5;\n\nconst ERROR_CSS_CLASS = 'settings-input-error';\nconst VISIBLE_CSS_CLASS = 'visible';\n\nlet isValidNumber = function(val, min, max) {\n  let isNumeric = /^(?:[1-9]\\d*|0)$/.test(val);\n  let intVal = parseInt(val, 10);\n  return isNumeric && (intVal >= min) && (intVal <= max);\n}\n\nlet markElementInvalid = function(element) {\n  element.classList.add(ERROR_CSS_CLASS);\n}\n\nlet clearMarkers = function(element) {\n  if (element.classList.contains(ERROR_CSS_CLASS)) {\n    element.classList.remove(ERROR_CSS_CLASS);\n  }\n}\n\nlet _positionValidMark = function(element) {\n  let inputWrapper = element.parentElement;\n  let wrapperWidth = inputWrapper.clientWidth;\n  let wrapperLeft = inputWrapper.offsetLeft;\n  let wrapperHeight = inputWrapper.clientHeight;\n  let wrapperTop = inputWrapper.offsetTop;\n  let checkLeft = wrapperWidth + wrapperLeft - SVG_VALID_MARK_WIDTH + SVG_VALID_MARK_WIDTH_ADJUSTMENT;\n  let checkTop = wrapperHeight + wrapperTop - SVG_VALID_MARK_HALF_HEIGHT + SVG_VALID_MARK_HEIGHT_ADJUSTMENT;\n  svgValidEl.style.left = `${checkLeft}px`;\n  svgValidEl.style.top = `${checkTop}px`;\n}\n\nlet _fadeValidMarkInOut = function() {\n  if (svgValidEl.classList.contains(VISIBLE_CSS_CLASS)) {\n    svgValidEl.classList.remove(VISIBLE_CSS_CLASS);\n  }\n  svgValidEl.classList.add(VISIBLE_CSS_CLASS);\n  setTimeout(() => {\n    svgValidEl.classList.remove(VISIBLE_CSS_CLASS);\n  }, 2000);\n}\n\nlet markElementValid = function(element) {\n  clearMarkers(element);\n  _positionValidMark(element);\n  _fadeValidMarkInOut();\n}\n\n// public api\nlet validation =  {\n  isValidNumber,\n  markElementInvalid,\n  markElementValid,\n  clearMarkers\n};\n\nexport {validation};\n\n\n\n// WEBPACK FOOTER //\n// ./js/validation.js","module.exports = __webpack_public_path__ + \"b506a66a688dd0df4b191f1ff1611c45.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sounds/ding.mp3\n// module id = 13\n// module chunks = 0","module.exports = __webpack_public_path__ + \"9a62c3d1f3ca4b470bc4a446f5c9c9e1.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sounds/tweet.mp3\n// module id = 14\n// module chunks = 0"],"sourceRoot":""}