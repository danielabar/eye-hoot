!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([/*!******************!*\
  !*** multi main ***!
  \******************/
function(e,t,n){e.exports=n(/*! ./js/index */7)},/*!************************!*\
  !*** ./images/owl.png ***!
  \************************/
function(e,t,n){e.exports=n.p+"269da9844e658bae2c2bf07f1a6fad4f.png"},/*!*******************!*\
  !*** ./js/app.js ***!
  \*******************/
function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.app=void 0;var r=n(/*! ../sounds/tweet.mp3 */14),i=o(r),s=n(/*! ../sounds/ding.mp3 */13),a=o(s),c=n(/*! ../images/owl.png */1),l=o(c),u=n(/*! ./settings */10),d=n(/*! ./animation-control */5),f=n(/*! ./clock-container */3),g=n(/*! ./modal */8),v="dim",p=new u.Settings;f.clockContainer.updateOpacity(p.clockOpacity);var y=void 0,m=void 0,k=void 0,_=void 0,h=void 0,E=0,L="Leave this running...",b=function(){g.modal.open()},I=function(){B(),S()},w=function(){M(),y.innerHTML="Please allow notifications to use Eye Hoot."},S=function(){window.Notification&&"denied"!==Notification.permission?Notification.requestPermission(function(e){"granted"===e?F():w()}):w()},B=function(){y=document.querySelector(".message"),k=document.querySelector(".break-over"),k.src=a.default,m=document.querySelector(".break-start"),m.src=i.default,_=document.querySelector(".owl-svg")},C=function(e){y.innerHTML=e},M=function(){[_,y].forEach(function(e){return e.classList.add(v)})},x=function(){[_,y].forEach(function(e){e.classList.contains(v)&&e.classList.remove(v)})},O=function(){x(),d.animationControl.playAnimation(),C(d.animationControl.getAnimationMessage())},q=function(){d.animationControl.stopAnimation()},T=function(){x(),d.animationControl.startStopLongBreakAnimation(),C(d.animationControl.longBreakAnimationMessage)},H=function(){d.animationControl.startStopLongBreakAnimation()},P=function(){var e=new Notification("Eye hoot",{body:"Time for a break!",icon:l.default,requireInteraction:!0});A(m),e.onclick=D.bind(e)},D=function(){window.focus(),this.close(),p.close(),E<p.longBreakInterval?(O(),N(p.eyeExerciseDuration)):(T(),N(p.longBreakDuration))},A=function(e){p.soundEnabled&&e.play()},N=function(e){h=$(".clock").FlipClock(e,{clockFace:"MinuteCounter",countdown:!0,callbacks:{stop:j}})},j=function(){E<p.longBreakInterval?(q(),E=E+p.eyeExerciseDuration+p.eyeExerciseInterval,console.debug("stopClockHandler: timeElapsed = "+E)):(H(),E=0),A(k),F()},F=function(){C(L),M(),V()},V=function(){h&&h.reset(),h=$(".clock").FlipClock(p.eyeExerciseInterval,{clockFace:"MinuteCounter",countdown:!0,callbacks:{stop:function(){P()}}})},W={start:b,startContinue:I,startWork:F};t.app=W},/*!*******************************!*\
  !*** ./js/clock-container.js ***!
  \*******************************/
function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=document.querySelector(".clock-container"),o=function(e){n.style.opacity=e},r={updateOpacity:o};t.clockContainer=r},/*!**************************!*\
  !*** ./js/controller.js ***!
  \**************************/
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.controller=void 0;var o=n(/*! ./app */2),r=n(/*! ./clock-container */3),i=function(e,t){switch(e){case"introModalClosed":o.app.startContinue();break;case"_eyeExerciseInterval":o.app.startWork();break;case"_clockOpacity":r.clockContainer.updateOpacity(t)}},s={update:i};t.controller=s},/*!*********************************!*\
  !*** ./js/animation-control.js ***!
  \*********************************/
function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=document.querySelector(".window-svg"),o=document.querySelector(".owl-graphic"),r=document.querySelector(".eyes"),i=document.querySelector(".left-eye-shine"),s=document.querySelector(".right-eye-shine"),a=document.querySelector(".left-wing"),c=document.querySelector(".right-wing"),l=document.querySelector(".left-foot"),u=document.querySelector(".right-foot"),d=0,f=function(){r.classList.toggle("side-to-side"),i.classList.toggle("side-to-side"),s.classList.toggle("side-to-side")},g=function(){r.classList.toggle("up-down"),i.classList.toggle("up-down"),s.classList.toggle("up-down")},v=function(){r.classList.toggle("around-right"),i.classList.toggle("around-right"),s.classList.toggle("around-right")},p=function(){r.classList.toggle("around-left")},y=function(){r.classList.toggle("blink")},m=function(){n.classList.toggle("window-visible")},k=function(){o.classList.toggle("wobble"),a.classList.toggle("flap-left"),c.classList.toggle("flap-right"),u.classList.toggle("march"),l.classList.toggle("march")},_=[f,p,g,v,y,m],h=["Move your eyes from side to side","Move your eyes around to the left","Move your eyes up and down","Move your eyes around to the right","Open and close your eyes","Look out a window or far away object"],E="Get up and go for for a walk",L=function(){_[d]()},b=function(){_[d](),d=d===_.length-1?0:d+1},I=function(){return h[d]},w=function(){k()},S={playAnimation:L,stopAnimation:b,getAnimationMessage:I,startStopLongBreakAnimation:w,longBreakAnimationMessage:E};t.animationControl=S},/*!**************************!*\
  !*** ./js/conversion.js ***!
  \**************************/
function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=60,o=function(e){return e/n},r=function(e){return e*n},i=function(e){return"true"===e},s=function(e){var t=parseInt(e,10);if(isNaN(t))throw new Error("Expected numeric integer setting");return t},a=function(e){var t=parseFloat(e);if(isNaN(t))throw new Error("Expected numeric float setting");return t},c={secondsToMinutes:o,minutesToSeconds:r,stringToBoolean:i,stringToInt:s,stringToFloat:a};t.conversion=c},/*!*********************!*\
  !*** ./js/index.js ***!
  \*********************/
function(e,t,n){"use strict";var o=n(/*! ./app */2);n(/*! ../css/styles.scss */12),n(/*! ../images/owl.png */1),document.addEventListener("DOMContentLoaded",o.app.start)},/*!*********************!*\
  !*** ./js/modal.js ***!
  \*********************/
function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.modal=void 0;var r=n(/*! ./controller */4),i=n(/*! ../images/owl.png */1),s=o(i),a=document.querySelector("#modal"),c=document.querySelector("#modalOverlay"),l=document.querySelector("#modalClose"),u=document.querySelector("#modalStart"),d=document.querySelector("#modalLogo");d.src=s.default,l.addEventListener("click",function(){return g()}),u.addEventListener("click",function(){return g()});var f=function(){a.classList.toggle("closed"),c.classList.toggle("closed")},g=function(){a.classList.toggle("closed"),c.classList.toggle("closed"),r.controller.update("introModalClosed")},v={open:f,close:g};t.modal=v},/*!***************************!*\
  !*** ./js/persistence.js ***!
  \***************************/
function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="eyehoot",o=function(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return!1}},r=o("localStorage"),i=function(e,t){localStorage.setItem(n+"-"+e,t)},s=function(e,t){r&&i(e,t)},a=function(e){return localStorage.getItem(n+"-"+e)},c=function(e,t){if(r){var n=a(e);return void 0==n?t:n}return t},l=function(){r&&localStorage.clear()},u={save:s,retrieve:c,removeAll:l};t.persistence=u},/*!************************!*\
  !*** ./js/settings.js ***!
  \************************/
function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(/*! ./persistence */9),s=n(/*! ./conversion */6),a=n(/*! ./validation */11),c=n(/*! ./controller */4),l="true",u="1",d="settings-hidden",f=document.querySelector(".settings-container"),g=document.getElementsByName("eyeExerciseInterval")[0],v=document.getElementsByName("longBreakInterval")[0],p=document.getElementsByName("longBreakDuration")[0],y=document.getElementById("soundEnabled"),m=document.getElementById("clockOpacity"),k=document.getElementById("settingsClose"),_=document.getElementById("settingsOpen"),h=document.getElementById("restoreSettings");t.Settings=function(){function e(){o(this,e),this._init(),this._registerEvents(),this._populateFields()}return r(e,[{key:"_init",value:function(){this._eyeExerciseDuration=10,this._eyeExerciseInterval=s.conversion.stringToInt(i.persistence.retrieve("_eyeExerciseInterval",900)),this._longBreakInterval=s.conversion.stringToInt(i.persistence.retrieve("_longBreakInterval",3600)),this._longBreakDuration=s.conversion.stringToInt(i.persistence.retrieve("_longBreakDuration",300)),this._soundEnabled=s.conversion.stringToBoolean(i.persistence.retrieve("_soundEnabled",l)),this._clockOpacity=s.conversion.stringToFloat(i.persistence.retrieve("_clockOpacity",u))}},{key:"_registerEvents",value:function(){var e=this;g.addEventListener("blur",function(){return e._numericChangeHandler(g,"_eyeExerciseInterval")}),g.addEventListener("keypress",function(t){return e._keyPressHandler(g,"_eyeExerciseInterval",t)}),v.addEventListener("blur",function(){return e._numericChangeHandler(v,"_longBreakInterval")}),v.addEventListener("keypress",function(t){return e._keyPressHandler(v,"_longBreakInterval",t)}),p.addEventListener("blur",function(){return e._numericChangeHandler(p,"_longBreakDuration")}),p.addEventListener("keypress",function(t){return e._keyPressHandler(p,"_longBreakDuration",t)}),y.addEventListener("change",function(){return e._booleanChangeHandler(y,"_soundEnabled")}),m.addEventListener("input",function(){return e._rangeChangeHandler(m,"_clockOpacity")}),k.addEventListener("click",function(){return e.close()}),_.addEventListener("click",function(){return e._open()}),h.addEventListener("click",function(){return e._restore()})}},{key:"_populateFields",value:function(){g.value=s.conversion.secondsToMinutes(this._eyeExerciseInterval),v.value=s.conversion.secondsToMinutes(this._longBreakInterval),p.value=s.conversion.secondsToMinutes(this._longBreakDuration),clockOpacity.value=this._clockOpacity,y.checked=this._soundEnabled}},{key:"_numericChangeHandler",value:function(e,t){var n=!0,o=e.value,r=s.conversion.secondsToMinutes(this[t]).toString();return o!==r?a.validation.isValidNumber(o,parseInt(e.min,10),parseInt(e.max,10))?(this[t]=s.conversion.minutesToSeconds(o),i.persistence.save(t,this[t]),a.validation.markElementValid(e),c.controller.update(t)):(n=!1,a.validation.markElementInvalid(e)):a.validation.clearMarkers(e),n}},{key:"_keyPressHandler",value:function(e,t,n){if(13===n.keyCode){var o=this._numericChangeHandler(e,t);o?e.blur():e.focus()}}},{key:"_booleanChangeHandler",value:function(e,t){var n=e.checked;n!==this[t]&&(this[t]=n,i.persistence.save(t,this[t]))}},{key:"_rangeChangeHandler",value:function(e,t){var n=e.value;c.controller.update(t,n),this[t]=n,i.persistence.save(t,this[t])}},{key:"close",value:function(){f.classList.contains(d)||f.classList.add(d)}},{key:"_open",value:function(){f.classList.remove(d)}},{key:"_restore",value:function(){i.persistence.removeAll(),this._init(),this._populateFields(),c.controller.update("_eyeExerciseInterval",this._eyeExerciseInterval),c.controller.update("_clockOpacity",this._clockOpacity)}},{key:"eyeExerciseInterval",get:function(){return this._eyeExerciseInterval}},{key:"longBreakInterval",get:function(){return this._longBreakInterval}},{key:"eyeExerciseDuration",get:function(){return this._eyeExerciseDuration}},{key:"longBreakDuration",get:function(){return this._longBreakDuration}},{key:"soundEnabled",get:function(){return this._soundEnabled}},{key:"clockOpacity",get:function(){return this._clockOpacity}}]),e}()},/*!**************************!*\
  !*** ./js/validation.js ***!
  \**************************/
function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=document.querySelector(".check-svg"),o=n.getClientRects()[0],r=o.width,i=o.height/2,s=3,a=5,c="settings-input-error",l="visible",u=function(e,t,n){var o=/^(?:[1-9]\d*|0)$/.test(e),r=parseInt(e,10);return o&&r>=t&&r<=n},d=function(e){e.classList.add(c)},f=function(e){e.classList.contains(c)&&e.classList.remove(c)},g=function(e){var t=e.parentElement,o=t.clientWidth,c=t.offsetLeft,l=t.clientHeight,u=t.offsetTop,d=o+c-r+s,f=l+u-i+a;n.style.left=d+"px",n.style.top=f+"px"},v=function(){n.classList.contains(l)&&n.classList.remove(l),n.classList.add(l),setTimeout(function(){n.classList.remove(l)},2e3)},p=function(e){f(e),g(e),v()},y={isValidNumber:u,markElementInvalid:d,markElementValid:p,clearMarkers:f};t.validation=y},/*!*************************!*\
  !*** ./css/styles.scss ***!
  \*************************/
function(e,t){},/*!*************************!*\
  !*** ./sounds/ding.mp3 ***!
  \*************************/
function(e,t,n){e.exports=n.p+"b506a66a688dd0df4b191f1ff1611c45.mp3"},/*!**************************!*\
  !*** ./sounds/tweet.mp3 ***!
  \**************************/
function(e,t,n){e.exports=n.p+"9a62c3d1f3ca4b470bc4a446f5c9c9e1.mp3"}]);
//# sourceMappingURL=bundle-4c171a6ee25ff64db202.js.map